apiVersion: skaffold/v2beta26
kind: Config
metadata: 
  name: transactionhistory
requires:
  - configs: [ledger-db]
    path: ../ledger-db/skaffold.yaml
build:
  artifacts:
    - image: transactionhistory
      context: ../../../
      jib:
        project: src/ledger/transactionhistory
profiles:
  - name: development
    activation:
      - command: dev
    deploy:
      kustomize:
        paths: ["k8s/development"]
  - name: staging
    deploy:
      kustomize:
        paths: ["k8s/staging"]
  - name: production
    deploy:
      kustomize:
        paths: ["k8s/production"]